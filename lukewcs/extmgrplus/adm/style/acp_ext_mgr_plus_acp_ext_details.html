{#
*
* Extension Manager Plus. An extension for the phpBB Forum Software package.
*
* @copyright (c) 2022, LukeWCS, https://www.wcsaga.org
* @license GNU General Public License, version 2 (GPL-2.0-only)
*
* Note: This extension is 100% genuine handcraft and consists of selected
*       natural raw materials. There was no AI involved in making it.
*
#}

{% import '@lukewcs_extmgrplus/acp_ext_mgr_plus_macros.html' as common %}

{% INCLUDE 'overall_header.html' %}

<a id="maincontent"></a>

<a href="{{ U_BACK }}" style="float: {{ S_CONTENT_FLOW_END }};">&laquo; {{ lang('BACK') }}</a>

<h1>{{ lang('EXTENSIONS_ADMIN') }}</h1>

<p>{{ lang('EXTENSIONS_EXPLAIN') }}</p>

{% if S_VERSIONCHECK %}
	{% if S_VERSIONCHECK_FAIL %}
		<div class="errorbox notice">
			<p>{{ lang('VERSIONCHECK_FAIL') }}</p>
			<p>{{ VERSIONCHECK_FAIL_REASON }}</p>
			<p><a href="{{ U_VERSIONCHECK_FORCE }}">{{ lang('VERSIONCHECK_FORCE_UPDATE') }}</a></p>
		</div>
	{% else %}
		<div class="{% if S_UP_TO_DATE %}successbox{% else %}errorbox{% endif %}">
			<p>{{ UP_TO_DATE_MSG }} - <a href="{{ U_VERSIONCHECK_FORCE }}">{{ lang('VERSIONCHECK_FORCE_UPDATE') }}</a></p>
		</div>
	{% endif %}
{% endif %}

{% EVENT acp_ext_details_notice %}

<fieldset>
	<legend>{{ lang('EXT_DETAILS') }}</legend>

	{% if META_DISPLAY_NAME %}
		<dl>
			<dt><label>{{ lang('DISPLAY_NAME') }}{{ lang('COLON') }}</label></dt>
			<dd><strong id="meta_display_name">{{ META_DISPLAY_NAME }}</strong></dd>
		</dl>
	{% endif %}
	<dl>
		<dt><label>{{ lang('CLEAN_NAME') }}{{ lang('COLON') }}</label></dt>
		<dd><strong id="meta_name">{{ META_NAME }}</strong></dd>
	</dl>
	{% if META_DESCRIPTION %}
		<dl>
			<dt><label>{{ lang('DESCRIPTION') }}{{ lang('COLON') }}</label></dt>
			<dd><span id="meta_description">{{ META_DESCRIPTION }}</span></dd>
		</dl>
	{% endif %}
	<dl>
		<dt><label>{{ lang('VERSION') }}{{ lang('COLON') }}</label></dt>
		<dd><span id="meta_version">{{ META_VERSION }}</span></dd>
	</dl>
	{% if META_HOMEPAGE %}
		<dl>
			<dt><label>{{ lang('HOMEPAGE') }}{{ lang('COLON') }}</label></dt>
			<dd><strong id="meta_homepage"><a href="{{ META_HOMEPAGE }}">{{ META_HOMEPAGE }}</a></strong></dd>
		</dl>
	{% endif %}
	{% if EXTMGRPLUS_DETAILS.cdb_page %}
		<dl>
			<dt><label>{{ lang('EXTMGRPLUS_DETAILS_CDB_PAGE') ~ lang('COLON') }}</label></dt>
			<dd><strong><a href="{{ EXTMGRPLUS_DETAILS.cdb_page }}">{{ EXTMGRPLUS_DETAILS.cdb_page }}</a></strong></dd>
		</dl>
	{% endif %}
	{% if EXTMGRPLUS_DETAILS.version_url %}
		<dl>
			<dt><label>{{ lang('EXTMGRPLUS_DETAILS_VERSION_URL') ~ lang('COLON') }}</label></dt>
			<dd><strong><a href="{{ EXTMGRPLUS_DETAILS.version_url }}">{{ EXTMGRPLUS_DETAILS.version_url }}</a></strong></dd>
		</dl>
	{% endif %}
	{% if META_TIME %}
		<dl>
			<dt><label>{{ lang('TIME') }}{{ lang('COLON') }}</label></dt>
			<dd><span id="meta_time">{{ META_TIME }}</span></dd>
		</dl>
	{% endif %}
	<dl>
		<dt><label>{{ lang('LICENSE') }}{{ lang('COLON') }}</label></dt>
		<dd><span id="meta_license">{{ META_LICENSE }}</span></dd>
	</dl>
</fieldset>

{% if S_VERSIONCHECK && !S_UP_TO_DATE %}
	<fieldset>
		<legend>{{ lang('LATEST_VERSION') }}</legend>

		{% for updates_available in loops.updates_available %}
			<fieldset>
				<dl>
					<dt><label>{{ lang('VERSION') }}{{ lang('COLON') }}</label></dt>
					<dd><strong>{{ updates_available.current }}</strong></dd>
				</dl>
				{% if updates_available.download%}
					<dl>
						<dt><label>{{ lang('DOWNLOAD_LATEST') }}</label></dt>
						<dd><strong><a href="{{ updates_available.download }}">{{ lang('DOWNLOAD') }} {{ META_NAME }} {{ LATEST_VERSION }}</a></strong></dd>
					</dl>
				{% endif %}
				{% if updates_available.announcement %}
					<dl>
						<dt><label>{{ lang('ANNOUNCEMENT_TOPIC') }}</label></dt>
						<dd><strong><a href="{{ updates_available.announcement }}">{{ lang('RELEASE_ANNOUNCEMENT') }}</a></strong></dd>
					</dl>
				{% endif %}
			</fieldset>
		{% endfor %}
	</fieldset>
{% endif %}

{% if META_REQUIRE_PHPBB || META_REQUIRE_PHP %}
	<fieldset>
		<legend>{{ lang('REQUIREMENTS') }}</legend>

		{% if META_REQUIRE_PHPBB %}
			<dl{% if META_REQUIRE_PHPBB_FAIL %} class="requirements_not_met"{% endif %}>
				<dt><label>{{ lang('PHPBB_VERSION') }}{{ lang('COLON') }}</label></dt>
				<dd><span id="require_phpbb">{{ META_REQUIRE_PHPBB }}</span></dd>
			</dl>
		{% endif %}
		{% if META_REQUIRE_PHP %}
			<dl{% if META_REQUIRE_PHP_FAIL %} class="requirements_not_met"{% endif %}>
				<dt><label>{{ lang('PHP_VERSION') }}{{ lang('COLON') }}</label></dt>
				<dd><span id="require_php">{{ META_REQUIRE_PHP }}</span></dd>
			</dl>
		{% endif %}
	</fieldset>
{% endif %}

<fieldset>
	<legend>{{ lang('AUTHOR_INFORMATION') }}</legend>

	{% for meta_authors in loops.meta_authors %}
		<fieldset>
			<dl>
				<dt><label>{{ lang('AUTHOR_NAME') }}{{ lang('COLON') }}</label></dt>
				<dd><strong>{{ meta_authors.AUTHOR_NAME }}</strong></dd>
			</dl>
			{% if meta_authors.AUTHOR_EMAIL %}
				<dl>
					<dt><label>{{ lang('AUTHOR_EMAIL') }}{{ lang('COLON') }}</label></dt>
					<dd><strong><a href="mailto:{{ meta_authors.AUTHOR_EMAIL }}">{{ meta_authors.AUTHOR_EMAIL }}</a></strong></dd>
				</dl>
			{% endif %}
			{% if meta_authors.AUTHOR_HOMEPAGE %}
				<dl>
					<dt><label>{{ lang('AUTHOR_HOMEPAGE') }}{{ lang('COLON') }}</label></dt>
					<dd><strong><a href="{{ meta_authors.AUTHOR_HOMEPAGE }}">{{ meta_authors.AUTHOR_HOMEPAGE }}</a></strong></dd>
				</dl>
			{% endif %}
			{% if meta_authors.AUTHOR_ROLE %}
				<dl>
					<dt><label>{{ lang('AUTHOR_ROLE') }}{{ lang('COLON') }}</label></dt>
					<dd><strong>{{ meta_authors.AUTHOR_ROLE }}</strong></dd>
				</dl>
			{% endif %}
		</fieldset>
	{% endfor %}
</fieldset>

{% EVENT acp_ext_details_end %}

{{ common.footer(EXTMGRPLUS_METADATA) }}

{% INCLUDE 'overall_footer.html' %}
{% INCLUDECSS '@lukewcs_extmgrplus/acp_ext_mgr_plus.css' %}
